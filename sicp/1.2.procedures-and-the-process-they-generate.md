# 1.2 Procedures and the Processes They Generate


## 1.2.1 Linear Recursion and Iteration

Recursion  

```scheme
(define (factorial n)
  (if (= n 1)
      1
      (* n (factorial (- n 1))))
  )
(write (factorial 5))
```

Iterative  

```scheme
(define (factorial n)
  (fact-iter 1 1 n))

(define (fact-iter product counter max-count)
  (if (> counter max-count)
      product
      (fact-iter (* counter product)
                 (+ counter 1)
                 max-count)))
(write (factorial 5))
```

> It may seem disturbing that we refer to a recursive procedure such as fact-iter as generating an iterative process. However, the process really is iterative: Its state is captured completely by its three state variables, and an interpreter need keep track of only three variables in order to execute the process.  
> 
> One reason that the distinction between process and procedure may be confusing is that most implementations of common languages (in- cluding Ada, Pascal, and C) are designed in such a way that the interpretation of any recursive procedure consumes an amount of memory that grows with the number of procedure calls, even when the process de- scribed is, in principle, iterative. As a consequence, these languages can describe iterative processes only by resorting to special-purpose “looping constructs” such as do, repeat, until, for, and while. the implementation of Scheme we shall consider in Chapter 5 does not share this defect. It will execute an iterative process in constant space, even if the iterative process is described by a recursive procedure. An implementation with this property is called tail-recursive.  

### Exercise 1.9:

Each of the following two procedures defines a method for adding two positive integers in terms of the procedures inc, which increments its argument by 1, and dec, which decrements its argument by 1.  

```scheme
(define (+ a b)
  (if (= a 0) b (inc (+ (dec a ) b))))

(define (+ a b)
  (if (= a 0) b (+ (dec a ) (inc b))))
```

Using the substitution model, illustrate the process generated by each procedure in evaluating (+3 4). Are these processes iterative or recursive  

Answers:  

-   The first example:

    Take a = 3, b = 4
    
    (+ 3 4)
    (inc (+ 2 4))
    (inc (inc (+ 1 4)))
    (inc (inc (inc (+ 0 4))))
    (inc (inc (inc 4)))
    (inc (inc 5))
    (inc 6)
    7

This is recursive.  

-   The second example:

    (+ 3 4)
    (+ 2 5)
    (+ 1 6)
    (+ 0 7)
    7

This is iterative  

### Exercise 1.10:

The following procedure computes a math- ematical function called Ackermann’s function.  

```scheme
(define (A x y)
  (cond ((= y 0) 0)
        ((= x 0) (* 2 y))
        ((= y 1) 2)
        (else (A (- x 1) (A x (- y 1))))))

(write (A 1 10))
(newline)
(write (A 2 4))
(newline)
(write (A 3 3))
```

What are the values of the following expressions?  

```scheme
(A 1 10)
(A 2 4)
(A 3 3)
```

    (A 1 10)
    (A 0 (A 1 9))
    (A 0 (A 0 (A 1 8)))
    (A 0 (A 0 (A 0 (A 1 7))))
    (A 0 (A 0 (A 0 (A 0 (A 1 6)))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 5))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 4)))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 3))))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 2)))))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 1))))))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 2)))))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 4))))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 8)))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 16))))))
    (A 0 (A 0 (A 0 (A 0 (A 0 32)))))
    (A 0 (A 0 (A 0 (A 0 64))))
    (A 0 (A 0 (A 0 128)))
    (A 0 (A 0 256))
    (A 0 512)
    1024

    (A 2 4)
    (A 1 (A 2 3))
    (A 1 (A 1 (A 2 2)))
    (A 1 (A 1 (A 1 (A 2 1))))
    (A 1 (A 1 (A 1 2)))
    (A 1 (A 1 (A 0 (A 1 1))))
    (A 1 (A 1 (A 0 2)))
    (A 1 (A 1 4))
    (A 1 (A 0 (A 1 3)))
    (A 1 (A 0 (A 0 (A 1 2))))
    (A 1 (A 0 (A 0 (A 0 (A 1 1)))))
    (A 1 (A 0 (A 0 (A 0 2))))
    (A 1 (A 0 (A 0 4)))
    (A 1 (A 0 8))
    (A 1 16)
    ...
    ...
    2^10 * 2^6
    1024 * 64
    65536

    (A 3 3)
    (A 2 (A 3 2))
    (A 2 (A 2 (A 3 1)))
    (A 2 (A 2 2))
    (A 2 (A 1 A(2 1)))
    (A 2 (A 1 2))
    (A 2 (A 0 (A 1 1)))
    (A 2 (A 0 2))
    (A 2 4)
    (A 1 (A 2 3))
    (A 1 (A 1 (A 2 2)))
    (A 1 (A 1 (A 1 (A 2 1))))
    (A 1 (A 1 (A 1 2)))
    (A 1 (A 1 (A 0 (A 1 1))))
    (A 1 (A 1 (A 0 2)))
    (A 1 (A 1 4))
    (A 1 16)
    65536

Consider the following procedures, where A is the proce- dure defined above:  

```scheme
(define (f n) (A 0 n)) 
(define (g n) (A 1 n)) 
(define (h n) (A 2 n)) 
(define (k n) (* 5 n n))
```

Give concise mathematical definitions for the functions com- puted by the procedures f, g, and h for positive integer values of n. For example, (k n) computes 5n^2.  

    fn = 2 * n
    gn = 2^n
    hn = 2 ^ (2^n)
